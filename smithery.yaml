runtime: "container"
build:
  dockerfile: "Dockerfile"
  dockerBuildPath: "."
volumes:
  # 用户数据目录持久化 - 保存登录状态、cookies、localStorage
  - name: "playwright-user-data"
    mountPath: "/home/node/.cache/ms-playwright-mcp"
    # 24小时保留策略
    retention: "24h"
  # 输出目录持久化 - 保存截图、PDF、trace
  - name: "playwright-output"
    mountPath: "/tmp/playwright-output"
    retention: "24h"
startCommand:
  type: "http"
  configSchema:
    type: "object"
    properties:
      browserName:
        type: "string"
        enum: ["chromium", "firefox", "webkit"]
        description: "Browser type to use for automation"
        default: "chromium"
      headless:
        type: "boolean"
        description: "Run browser in headless mode"
        default: true
      capabilities:
        type: "array"
        items:
          type: "string"
          enum: ["tabs", "install", "pdf", "vision"]
        description: "Additional capabilities to enable"
        default: ["tabs", "pdf", "vision"]
      outputDir:
        type: "string"
        description: "Directory for output files"
        default: "/tmp/playwright-output"
      imageResponses:
        type: "string"
        enum: ["allow", "omit"]
        description: "Whether to send image responses to the client"
        default: "allow"
    additionalProperties: true
  exampleConfig:
    browserName: "chromium"
    headless: true
    capabilities: ["tabs", "pdf", "vision"]
    outputDir: "/tmp/playwright-output"
    imageResponses: "allow"
